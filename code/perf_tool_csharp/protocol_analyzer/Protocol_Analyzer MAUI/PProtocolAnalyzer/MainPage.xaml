<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="PProtocolAnalyzer.MainPage">
    <ScrollView>
        <Grid RowSpacing="12" ColumnSpacing="12" Padding="12,12,12,4" VerticalOptions="Start">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- GPU Information -->
            <Border Grid.Row="0" Grid.Column="0" Padding="8">
                <VerticalStackLayout>
                    <Label Text="GPU Information" FontAttributes="Bold" />
                    <Label x:Name="MainDisplayResolutionLabel" Text="Main Display Resolution: Loading..." />
                    <Label x:Name="DpiScaleLabel" Text="DPI Scale: Loading..." />
                    <Label x:Name="SessionTypeLabel" Text="Session Type: Loading..." />
                    <Label x:Name="GpuTypeLabel" Text="GPU Type: Loading..." />
                    <Label x:Name="EncodingLabel" Text="Encoding: Loading..." />
                    <Label x:Name="HwEncodeLabel" Text="HW Encode: Loading..." />
                </VerticalStackLayout>
            </Border>

            <!-- Detected settings -->
            <Border Grid.Row="0" Grid.Column="1" Padding="8">
                <VerticalStackLayout>
                    <Label Text="Detected settings" FontAttributes="Bold" />
                    <Label x:Name="DisplayResolutionLabel" Text="Display Resolution: 4096x1152" />
                    <Label x:Name="RefreshRateLabel" Text="Display Refresh Rate: 60 Hz" />
                    <Label x:Name="ScalingFactorLabel" Text="Scaling: 100%" />
                    <Label x:Name="VisualQualityLabel" Text="Visual Quality: Medium" />
                    <!-- Max Frames display removed per request -->
                    <Label x:Name="HardwareEncodeStatusLabel" Text="Hardware Encode: Active" />
                    <Label x:Name="EncoderTypeLabel" Text="Encoder type: H265 (Hardware)" />
                </VerticalStackLayout>
            </Border>

            <!-- Real-Time Statistics -->
            <Border Grid.Row="1" Grid.Column="0" Padding="8">
                <VerticalStackLayout>
                    <Label Text="Real-Time Statistics" FontAttributes="Bold" />
                    <Label x:Name="AvailableBandwidthLabel" Text="Available Bandwidth: Loading..." />
                    <Label x:Name="BandwidthOutputLabel" Text="Bandwidth Output: Loading..." />
                    <Label x:Name="BandwidthInputLabel" Text="Bandwidth Input: Loading..." />
                    <!-- Total bandwidth removed from UI -->
                    <VerticalStackLayout x:Name="SessionStatsContainer">
                        <!-- Session statistics will be added dynamically -->
                    </VerticalStackLayout>
                </VerticalStackLayout>
            </Border>

            <!-- Real-Time Advanced Statistics -->
            <Border Grid.Row="1" Grid.Column="1" Padding="8">
                <VerticalStackLayout>
                    <Label Text="Real-Time Advanced Statistics" FontAttributes="Bold" />
                    <Label x:Name="EncoderFramesDroppedLabel" Text="Encoder Frames Dropped: (waiting for data)" />
                    <Label x:Name="InputFpsLabel" Text="Input Frames Per Second: (waiting for data)" />
                </VerticalStackLayout>
            </Border>

            <!-- Session Info (Left) and Custom Settings (Right) -->
            <Border Grid.Row="2" Grid.Column="0" Padding="8">
                <VerticalStackLayout>
                    <Label Text="Session Info" FontAttributes="Bold" />
                    <Label x:Name="SessionIdLabel" Text="Session Id: 1" />
                    <Label x:Name="ClientNameLabel" Text="Client Name:" />
                    <Label x:Name="ProtocolVersionLabel" Text="Protocol Version: RDP 8.1+" />
                </VerticalStackLayout>
            </Border>

            <Border Grid.Row="2" Grid.Column="1" Padding="8">
                <VerticalStackLayout x:Name="CustomSettingsContainer">
                    <Label Text="Custom Settings" FontAttributes="Bold" />
                    <!-- Dynamic custom settings labels will be added here programmatically -->
                </VerticalStackLayout>
            </Border>
        </Grid>
    </ScrollView>
</ContentPage>
